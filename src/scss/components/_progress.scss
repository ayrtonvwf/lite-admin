@mixin progress-value($color) {
    color: $color; // IE
    &::-webkit-progress-value {
        position: relative;
        border-radius: 3px;
        background-color: $color;
    }
    &::-moz-progress-bar {
        position: relative;
        border-radius: 3px;
        background-color: $color;
    }
    &::-ms-fill {
        position: relative;
        border-radius: 3px;
        background-color: $color;
    }
}
@mixin indeterminate() {
    border-radius: 3px;
    background-color: whitesmoke;
    background-image: linear-gradient(135deg, transparent, transparent 33%, rgba(0, 0, 0, .1) 33%, rgba(0, 0, 0, .1) 66%, transparent 66%);
    background-size: 35px 20px;
    animation-duration: .5s;
    animation-name: animate-indeterminate;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    box-shadow: 0px 2px 3px rgba(0,0,0,.3) inset;
}

@keyframes animate-indeterminate {
    from { background-position-x: 0px }
    to { background-position-x: 35px }
}
progress {
    appearance: none;
    border: none;
    width: 100%;
    height: 20px;
    border-radius: 3px;
    box-shadow: 0px 2px 3px rgba(0,0,0,.3) inset;
    position: relative;
    margin: 0px 0px 10px;

    animation-duration: .5s;
    animation-name: animate-indeterminate;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    &::-webkit-progress-bar {
        @include indeterminate;
    }
    &::-moz-progress-bar {
        @include indeterminate;
    }
    &[value] {
        &::-moz-progress-bar {
            background-image: none;
            animation-name: none;
        }
        &::-webkit-progress-bar {
            background-image: none;
            animation-name: none;
        }
        @include progress-value(gray);
        &.progress-success {
            @include progress-value($btn-success-color);
        }
        &.progress-info {
            @include progress-value($btn-info-color);
        }
        &.progress-primary {
            @include progress-value($btn-primary-color);
        }
        &.progress-warning {
            @include progress-value($btn-warning-color);
        }
        &.progress-danger {
            @include progress-value($btn-danger-color);
        }
    }
}